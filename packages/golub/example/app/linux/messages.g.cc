// Copyright 2013 The Flutter Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
// Autogenerated from Golub, do not edit directly.
// See also: https://pub.dev/packages/golub

#include "messages.g.h"

struct _GolubExamplePackageMessageData {
  GObject parent_instance;

  gchar* name;
  gchar* description;
  GolubExamplePackageCode code;
  FlValue* data;
};

G_DEFINE_TYPE(GolubExamplePackageMessageData,
              golub_example_package_message_data, G_TYPE_OBJECT)

static void golub_example_package_message_data_dispose(GObject* object) {
  GolubExamplePackageMessageData* self =
      GOLUB_EXAMPLE_PACKAGE_MESSAGE_DATA(object);
  g_clear_pointer(&self->name, g_free);
  g_clear_pointer(&self->description, g_free);
  g_clear_pointer(&self->data, fl_value_unref);
  G_OBJECT_CLASS(golub_example_package_message_data_parent_class)
      ->dispose(object);
}

static void golub_example_package_message_data_init(
    GolubExamplePackageMessageData* self) {}

static void golub_example_package_message_data_class_init(
    GolubExamplePackageMessageDataClass* klass) {
  G_OBJECT_CLASS(klass)->dispose = golub_example_package_message_data_dispose;
}

GolubExamplePackageMessageData* golub_example_package_message_data_new(
    const gchar* name, const gchar* description, GolubExamplePackageCode code,
    FlValue* data) {
  GolubExamplePackageMessageData* self = GOLUB_EXAMPLE_PACKAGE_MESSAGE_DATA(
      g_object_new(golub_example_package_message_data_get_type(), nullptr));
  if (name != nullptr) {
    self->name = g_strdup(name);
  } else {
    self->name = nullptr;
  }
  if (description != nullptr) {
    self->description = g_strdup(description);
  } else {
    self->description = nullptr;
  }
  self->code = code;
  self->data = fl_value_ref(data);
  return self;
}

const gchar* golub_example_package_message_data_get_name(
    GolubExamplePackageMessageData* self) {
  g_return_val_if_fail(GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_DATA(self), nullptr);
  return self->name;
}

const gchar* golub_example_package_message_data_get_description(
    GolubExamplePackageMessageData* self) {
  g_return_val_if_fail(GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_DATA(self), nullptr);
  return self->description;
}

GolubExamplePackageCode golub_example_package_message_data_get_code(
    GolubExamplePackageMessageData* self) {
  g_return_val_if_fail(GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_DATA(self),
                       static_cast<GolubExamplePackageCode>(0));
  return self->code;
}

FlValue* golub_example_package_message_data_get_data(
    GolubExamplePackageMessageData* self) {
  g_return_val_if_fail(GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_DATA(self), nullptr);
  return self->data;
}

static FlValue* golub_example_package_message_data_to_list(
    GolubExamplePackageMessageData* self) {
  FlValue* values = fl_value_new_list();
  fl_value_append_take(values, self->name != nullptr
                                   ? fl_value_new_string(self->name)
                                   : fl_value_new_null());
  fl_value_append_take(values, self->description != nullptr
                                   ? fl_value_new_string(self->description)
                                   : fl_value_new_null());
  fl_value_append_take(values,
                       fl_value_new_custom(golub_example_package_code_type_id,
                                           fl_value_new_int(self->code),
                                           (GDestroyNotify)fl_value_unref));
  fl_value_append_take(values, fl_value_ref(self->data));
  return values;
}

static GolubExamplePackageMessageData*
golub_example_package_message_data_new_from_list(FlValue* values) {
  FlValue* value0 = fl_value_get_list_value(values, 0);
  const gchar* name = nullptr;
  if (fl_value_get_type(value0) != FL_VALUE_TYPE_NULL) {
    name = fl_value_get_string(value0);
  }
  FlValue* value1 = fl_value_get_list_value(values, 1);
  const gchar* description = nullptr;
  if (fl_value_get_type(value1) != FL_VALUE_TYPE_NULL) {
    description = fl_value_get_string(value1);
  }
  FlValue* value2 = fl_value_get_list_value(values, 2);
  GolubExamplePackageCode code = static_cast<GolubExamplePackageCode>(
      fl_value_get_int(reinterpret_cast<FlValue*>(
          const_cast<gpointer>(fl_value_get_custom_value(value2)))));
  FlValue* value3 = fl_value_get_list_value(values, 3);
  FlValue* data = value3;
  return golub_example_package_message_data_new(name, description, code, data);
}

struct _GolubExamplePackageGolubMessageCodec {
  FlStandardMessageCodec parent_instance;
};

G_DEFINE_TYPE(GolubExamplePackageGolubMessageCodec,
              golub_example_package_golub_message_codec,
              fl_standard_message_codec_get_type())

const int golub_example_package_code_type_id = 129;
const int golub_example_package_message_data_type_id = 130;

static gboolean
golub_example_package_golub_message_codec_write_golub_example_package_code(
    FlStandardMessageCodec* codec, GByteArray* buffer, FlValue* value,
    GError** error) {
  uint8_t type = golub_example_package_code_type_id;
  g_byte_array_append(buffer, &type, sizeof(uint8_t));
  return fl_standard_message_codec_write_value(codec, buffer, value, error);
}

static gboolean
golub_example_package_golub_message_codec_write_golub_example_package_message_data(
    FlStandardMessageCodec* codec, GByteArray* buffer,
    GolubExamplePackageMessageData* value, GError** error) {
  uint8_t type = golub_example_package_message_data_type_id;
  g_byte_array_append(buffer, &type, sizeof(uint8_t));
  g_autoptr(FlValue) values = golub_example_package_message_data_to_list(value);
  return fl_standard_message_codec_write_value(codec, buffer, values, error);
}

static gboolean golub_example_package_golub_message_codec_write_value(
    FlStandardMessageCodec* codec, GByteArray* buffer, FlValue* value,
    GError** error) {
  if (fl_value_get_type(value) == FL_VALUE_TYPE_CUSTOM) {
    switch (fl_value_get_custom_type(value)) {
      case golub_example_package_code_type_id:
        return golub_example_package_golub_message_codec_write_golub_example_package_code(
            codec, buffer,
            reinterpret_cast<FlValue*>(
                const_cast<gpointer>(fl_value_get_custom_value(value))),
            error);
      case golub_example_package_message_data_type_id:
        return golub_example_package_golub_message_codec_write_golub_example_package_message_data(
            codec, buffer,
            GOLUB_EXAMPLE_PACKAGE_MESSAGE_DATA(
                fl_value_get_custom_value_object(value)),
            error);
    }
  }

  return FL_STANDARD_MESSAGE_CODEC_CLASS(
             golub_example_package_golub_message_codec_parent_class)
      ->write_value(codec, buffer, value, error);
}

static FlValue*
golub_example_package_golub_message_codec_read_golub_example_package_code(
    FlStandardMessageCodec* codec, GBytes* buffer, size_t* offset,
    GError** error) {
  return fl_value_new_custom(
      golub_example_package_code_type_id,
      fl_standard_message_codec_read_value(codec, buffer, offset, error),
      (GDestroyNotify)fl_value_unref);
}

static FlValue*
golub_example_package_golub_message_codec_read_golub_example_package_message_data(
    FlStandardMessageCodec* codec, GBytes* buffer, size_t* offset,
    GError** error) {
  g_autoptr(FlValue) values =
      fl_standard_message_codec_read_value(codec, buffer, offset, error);
  if (values == nullptr) {
    return nullptr;
  }

  g_autoptr(GolubExamplePackageMessageData) value =
      golub_example_package_message_data_new_from_list(values);
  if (value == nullptr) {
    g_set_error(error, FL_MESSAGE_CODEC_ERROR, FL_MESSAGE_CODEC_ERROR_FAILED,
                "Invalid data received for MessageData");
    return nullptr;
  }

  return fl_value_new_custom_object(golub_example_package_message_data_type_id,
                                    G_OBJECT(value));
}

static FlValue* golub_example_package_golub_message_codec_read_value_of_type(
    FlStandardMessageCodec* codec, GBytes* buffer, size_t* offset, int type,
    GError** error) {
  switch (type) {
    case golub_example_package_code_type_id:
      return golub_example_package_golub_message_codec_read_golub_example_package_code(
          codec, buffer, offset, error);
    case golub_example_package_message_data_type_id:
      return golub_example_package_golub_message_codec_read_golub_example_package_message_data(
          codec, buffer, offset, error);
    default:
      return FL_STANDARD_MESSAGE_CODEC_CLASS(
                 golub_example_package_golub_message_codec_parent_class)
          ->read_value_of_type(codec, buffer, offset, type, error);
  }
}

static void golub_example_package_golub_message_codec_init(
    GolubExamplePackageGolubMessageCodec* self) {}

static void golub_example_package_golub_message_codec_class_init(
    GolubExamplePackageGolubMessageCodecClass* klass) {
  FL_STANDARD_MESSAGE_CODEC_CLASS(klass)->write_value =
      golub_example_package_golub_message_codec_write_value;
  FL_STANDARD_MESSAGE_CODEC_CLASS(klass)->read_value_of_type =
      golub_example_package_golub_message_codec_read_value_of_type;
}

static GolubExamplePackageGolubMessageCodec*
golub_example_package_golub_message_codec_new() {
  GolubExamplePackageGolubMessageCodec* self =
      GOLUB_EXAMPLE_PACKAGE_GOLUB_MESSAGE_CODEC(g_object_new(
          golub_example_package_golub_message_codec_get_type(), nullptr));
  return self;
}

struct _GolubExamplePackageExampleHostApiResponseHandle {
  GObject parent_instance;

  FlBasicMessageChannel* channel;
  FlBasicMessageChannelResponseHandle* response_handle;
};

G_DEFINE_TYPE(GolubExamplePackageExampleHostApiResponseHandle,
              golub_example_package_example_host_api_response_handle,
              G_TYPE_OBJECT)

static void golub_example_package_example_host_api_response_handle_dispose(
    GObject* object) {
  GolubExamplePackageExampleHostApiResponseHandle* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_RESPONSE_HANDLE(object);
  g_clear_object(&self->channel);
  g_clear_object(&self->response_handle);
  G_OBJECT_CLASS(
      golub_example_package_example_host_api_response_handle_parent_class)
      ->dispose(object);
}

static void golub_example_package_example_host_api_response_handle_init(
    GolubExamplePackageExampleHostApiResponseHandle* self) {}

static void golub_example_package_example_host_api_response_handle_class_init(
    GolubExamplePackageExampleHostApiResponseHandleClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_response_handle_dispose;
}

static GolubExamplePackageExampleHostApiResponseHandle*
golub_example_package_example_host_api_response_handle_new(
    FlBasicMessageChannel* channel,
    FlBasicMessageChannelResponseHandle* response_handle) {
  GolubExamplePackageExampleHostApiResponseHandle* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_RESPONSE_HANDLE(g_object_new(
          golub_example_package_example_host_api_response_handle_get_type(),
          nullptr));
  self->channel = FL_BASIC_MESSAGE_CHANNEL(g_object_ref(channel));
  self->response_handle =
      FL_BASIC_MESSAGE_CHANNEL_RESPONSE_HANDLE(g_object_ref(response_handle));
  return self;
}

struct _GolubExamplePackageExampleHostApiGetHostLanguageResponse {
  GObject parent_instance;

  FlValue* value;
};

G_DEFINE_TYPE(GolubExamplePackageExampleHostApiGetHostLanguageResponse,
              golub_example_package_example_host_api_get_host_language_response,
              G_TYPE_OBJECT)

static void
golub_example_package_example_host_api_get_host_language_response_dispose(
    GObject* object) {
  GolubExamplePackageExampleHostApiGetHostLanguageResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_GET_HOST_LANGUAGE_RESPONSE(object);
  g_clear_pointer(&self->value, fl_value_unref);
  G_OBJECT_CLASS(
      golub_example_package_example_host_api_get_host_language_response_parent_class)
      ->dispose(object);
}

static void
golub_example_package_example_host_api_get_host_language_response_init(
    GolubExamplePackageExampleHostApiGetHostLanguageResponse* self) {}

static void
golub_example_package_example_host_api_get_host_language_response_class_init(
    GolubExamplePackageExampleHostApiGetHostLanguageResponseClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_get_host_language_response_dispose;
}

GolubExamplePackageExampleHostApiGetHostLanguageResponse*
golub_example_package_example_host_api_get_host_language_response_new(
    const gchar* return_value) {
  GolubExamplePackageExampleHostApiGetHostLanguageResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_GET_HOST_LANGUAGE_RESPONSE(g_object_new(
          golub_example_package_example_host_api_get_host_language_response_get_type(),
          nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_string(return_value));
  return self;
}

GolubExamplePackageExampleHostApiGetHostLanguageResponse*
golub_example_package_example_host_api_get_host_language_response_new_error(
    const gchar* code, const gchar* message, FlValue* details) {
  GolubExamplePackageExampleHostApiGetHostLanguageResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_GET_HOST_LANGUAGE_RESPONSE(g_object_new(
          golub_example_package_example_host_api_get_host_language_response_get_type(),
          nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_string(code));
  fl_value_append_take(self->value,
                       fl_value_new_string(message != nullptr ? message : ""));
  fl_value_append_take(self->value, details != nullptr ? fl_value_ref(details)
                                                       : fl_value_new_null());
  return self;
}

struct _GolubExamplePackageExampleHostApiAddResponse {
  GObject parent_instance;

  FlValue* value;
};

G_DEFINE_TYPE(GolubExamplePackageExampleHostApiAddResponse,
              golub_example_package_example_host_api_add_response,
              G_TYPE_OBJECT)

static void golub_example_package_example_host_api_add_response_dispose(
    GObject* object) {
  GolubExamplePackageExampleHostApiAddResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_ADD_RESPONSE(object);
  g_clear_pointer(&self->value, fl_value_unref);
  G_OBJECT_CLASS(
      golub_example_package_example_host_api_add_response_parent_class)
      ->dispose(object);
}

static void golub_example_package_example_host_api_add_response_init(
    GolubExamplePackageExampleHostApiAddResponse* self) {}

static void golub_example_package_example_host_api_add_response_class_init(
    GolubExamplePackageExampleHostApiAddResponseClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_add_response_dispose;
}

GolubExamplePackageExampleHostApiAddResponse*
golub_example_package_example_host_api_add_response_new(int64_t return_value) {
  GolubExamplePackageExampleHostApiAddResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_ADD_RESPONSE(g_object_new(
          golub_example_package_example_host_api_add_response_get_type(),
          nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_int(return_value));
  return self;
}

GolubExamplePackageExampleHostApiAddResponse*
golub_example_package_example_host_api_add_response_new_error(
    const gchar* code, const gchar* message, FlValue* details) {
  GolubExamplePackageExampleHostApiAddResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_ADD_RESPONSE(g_object_new(
          golub_example_package_example_host_api_add_response_get_type(),
          nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_string(code));
  fl_value_append_take(self->value,
                       fl_value_new_string(message != nullptr ? message : ""));
  fl_value_append_take(self->value, details != nullptr ? fl_value_ref(details)
                                                       : fl_value_new_null());
  return self;
}

G_DECLARE_FINAL_TYPE(
    GolubExamplePackageExampleHostApiSendMessageResponse,
    golub_example_package_example_host_api_send_message_response,
    GOLUB_EXAMPLE_PACKAGE, EXAMPLE_HOST_API_SEND_MESSAGE_RESPONSE, GObject)

struct _GolubExamplePackageExampleHostApiSendMessageResponse {
  GObject parent_instance;

  FlValue* value;
};

G_DEFINE_TYPE(GolubExamplePackageExampleHostApiSendMessageResponse,
              golub_example_package_example_host_api_send_message_response,
              G_TYPE_OBJECT)

static void
golub_example_package_example_host_api_send_message_response_dispose(
    GObject* object) {
  GolubExamplePackageExampleHostApiSendMessageResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_RESPONSE(object);
  g_clear_pointer(&self->value, fl_value_unref);
  G_OBJECT_CLASS(
      golub_example_package_example_host_api_send_message_response_parent_class)
      ->dispose(object);
}

static void golub_example_package_example_host_api_send_message_response_init(
    GolubExamplePackageExampleHostApiSendMessageResponse* self) {}

static void
golub_example_package_example_host_api_send_message_response_class_init(
    GolubExamplePackageExampleHostApiSendMessageResponseClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_send_message_response_dispose;
}

static GolubExamplePackageExampleHostApiSendMessageResponse*
golub_example_package_example_host_api_send_message_response_new(
    gboolean return_value) {
  GolubExamplePackageExampleHostApiSendMessageResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_RESPONSE(g_object_new(
          golub_example_package_example_host_api_send_message_response_get_type(),
          nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_bool(return_value));
  return self;
}

static GolubExamplePackageExampleHostApiSendMessageResponse*
golub_example_package_example_host_api_send_message_response_new_error(
    const gchar* code, const gchar* message, FlValue* details) {
  GolubExamplePackageExampleHostApiSendMessageResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_RESPONSE(g_object_new(
          golub_example_package_example_host_api_send_message_response_get_type(),
          nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_string(code));
  fl_value_append_take(self->value,
                       fl_value_new_string(message != nullptr ? message : ""));
  fl_value_append_take(self->value, details != nullptr ? fl_value_ref(details)
                                                       : fl_value_new_null());
  return self;
}

G_DECLARE_FINAL_TYPE(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse,
    golub_example_package_example_host_api_send_message_modern_async_response,
    GOLUB_EXAMPLE_PACKAGE, EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_RESPONSE,
    GObject)

struct _GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse {
  GObject parent_instance;

  FlValue* value;
};

G_DEFINE_TYPE(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse,
    golub_example_package_example_host_api_send_message_modern_async_response,
    G_TYPE_OBJECT)

static void
golub_example_package_example_host_api_send_message_modern_async_response_dispose(
    GObject* object) {
  GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_RESPONSE(
          object);
  g_clear_pointer(&self->value, fl_value_unref);
  G_OBJECT_CLASS(
      golub_example_package_example_host_api_send_message_modern_async_response_parent_class)
      ->dispose(object);
}

static void
golub_example_package_example_host_api_send_message_modern_async_response_init(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse* self) {}

static void
golub_example_package_example_host_api_send_message_modern_async_response_class_init(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncResponseClass*
        klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_send_message_modern_async_response_dispose;
}

static GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse*
golub_example_package_example_host_api_send_message_modern_async_response_new(
    gboolean return_value) {
  GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_RESPONSE(
          g_object_new(
              golub_example_package_example_host_api_send_message_modern_async_response_get_type(),
              nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_bool(return_value));
  return self;
}

static GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse*
golub_example_package_example_host_api_send_message_modern_async_response_new_error(
    const gchar* code, const gchar* message, FlValue* details) {
  GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_RESPONSE(
          g_object_new(
              golub_example_package_example_host_api_send_message_modern_async_response_get_type(),
              nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_string(code));
  fl_value_append_take(self->value,
                       fl_value_new_string(message != nullptr ? message : ""));
  fl_value_append_take(self->value, details != nullptr ? fl_value_ref(details)
                                                       : fl_value_new_null());
  return self;
}

G_DECLARE_FINAL_TYPE(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse,
    golub_example_package_example_host_api_send_message_modern_async_throws_response,
    GOLUB_EXAMPLE_PACKAGE,
    EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_THROWS_RESPONSE, GObject)

struct _GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse {
  GObject parent_instance;

  FlValue* value;
};

G_DEFINE_TYPE(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse,
    golub_example_package_example_host_api_send_message_modern_async_throws_response,
    G_TYPE_OBJECT)

static void
golub_example_package_example_host_api_send_message_modern_async_throws_response_dispose(
    GObject* object) {
  GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_THROWS_RESPONSE(
          object);
  g_clear_pointer(&self->value, fl_value_unref);
  G_OBJECT_CLASS(
      golub_example_package_example_host_api_send_message_modern_async_throws_response_parent_class)
      ->dispose(object);
}

static void
golub_example_package_example_host_api_send_message_modern_async_throws_response_init(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse*
        self) {}

static void
golub_example_package_example_host_api_send_message_modern_async_throws_response_class_init(
    GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponseClass*
        klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_send_message_modern_async_throws_response_dispose;
}

static GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse*
golub_example_package_example_host_api_send_message_modern_async_throws_response_new(
    gboolean return_value) {
  GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_THROWS_RESPONSE(
          g_object_new(
              golub_example_package_example_host_api_send_message_modern_async_throws_response_get_type(),
              nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_bool(return_value));
  return self;
}

static GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse*
golub_example_package_example_host_api_send_message_modern_async_throws_response_new_error(
    const gchar* code, const gchar* message, FlValue* details) {
  GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API_SEND_MESSAGE_MODERN_ASYNC_THROWS_RESPONSE(
          g_object_new(
              golub_example_package_example_host_api_send_message_modern_async_throws_response_get_type(),
              nullptr));
  self->value = fl_value_new_list();
  fl_value_append_take(self->value, fl_value_new_string(code));
  fl_value_append_take(self->value,
                       fl_value_new_string(message != nullptr ? message : ""));
  fl_value_append_take(self->value, details != nullptr ? fl_value_ref(details)
                                                       : fl_value_new_null());
  return self;
}

struct _GolubExamplePackageExampleHostApi {
  GObject parent_instance;

  const GolubExamplePackageExampleHostApiVTable* vtable;
  gpointer user_data;
  GDestroyNotify user_data_free_func;
};

G_DEFINE_TYPE(GolubExamplePackageExampleHostApi,
              golub_example_package_example_host_api, G_TYPE_OBJECT)

static void golub_example_package_example_host_api_dispose(GObject* object) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(object);
  if (self->user_data != nullptr) {
    self->user_data_free_func(self->user_data);
  }
  self->user_data = nullptr;
  G_OBJECT_CLASS(golub_example_package_example_host_api_parent_class)
      ->dispose(object);
}

static void golub_example_package_example_host_api_init(
    GolubExamplePackageExampleHostApi* self) {}

static void golub_example_package_example_host_api_class_init(
    GolubExamplePackageExampleHostApiClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_example_host_api_dispose;
}

static GolubExamplePackageExampleHostApi*
golub_example_package_example_host_api_new(
    const GolubExamplePackageExampleHostApiVTable* vtable, gpointer user_data,
    GDestroyNotify user_data_free_func) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(g_object_new(
          golub_example_package_example_host_api_get_type(), nullptr));
  self->vtable = vtable;
  self->user_data = user_data;
  self->user_data_free_func = user_data_free_func;
  return self;
}

static void golub_example_package_example_host_api_get_host_language_cb(
    FlBasicMessageChannel* channel, FlValue* message_,
    FlBasicMessageChannelResponseHandle* response_handle, gpointer user_data) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(user_data);

  if (self->vtable == nullptr || self->vtable->get_host_language == nullptr) {
    return;
  }

  g_autoptr(GolubExamplePackageExampleHostApiGetHostLanguageResponse) response =
      self->vtable->get_host_language(self->user_data);
  if (response == nullptr) {
    g_warning("No response returned to %s.%s", "ExampleHostApi",
              "getHostLanguage");
    return;
  }

  g_autoptr(GError) error = NULL;
  if (!fl_basic_message_channel_respond(channel, response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "getHostLanguage", error->message);
  }
}

static void golub_example_package_example_host_api_add_cb(
    FlBasicMessageChannel* channel, FlValue* message_,
    FlBasicMessageChannelResponseHandle* response_handle, gpointer user_data) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(user_data);

  if (self->vtable == nullptr || self->vtable->add == nullptr) {
    return;
  }

  FlValue* value0 = fl_value_get_list_value(message_, 0);
  int64_t a = fl_value_get_int(value0);
  FlValue* value1 = fl_value_get_list_value(message_, 1);
  int64_t b = fl_value_get_int(value1);
  g_autoptr(GolubExamplePackageExampleHostApiAddResponse) response =
      self->vtable->add(a, b, self->user_data);
  if (response == nullptr) {
    g_warning("No response returned to %s.%s", "ExampleHostApi", "add");
    return;
  }

  g_autoptr(GError) error = NULL;
  if (!fl_basic_message_channel_respond(channel, response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi", "add",
              error->message);
  }
}

static void golub_example_package_example_host_api_send_message_cb(
    FlBasicMessageChannel* channel, FlValue* message_,
    FlBasicMessageChannelResponseHandle* response_handle, gpointer user_data) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(user_data);

  if (self->vtable == nullptr || self->vtable->send_message == nullptr) {
    return;
  }

  FlValue* value0 = fl_value_get_list_value(message_, 0);
  GolubExamplePackageMessageData* message = GOLUB_EXAMPLE_PACKAGE_MESSAGE_DATA(
      fl_value_get_custom_value_object(value0));
  g_autoptr(GolubExamplePackageExampleHostApiResponseHandle) handle =
      golub_example_package_example_host_api_response_handle_new(
          channel, response_handle);
  self->vtable->send_message(message, handle, self->user_data);
}

static void golub_example_package_example_host_api_send_message_modern_async_cb(
    FlBasicMessageChannel* channel, FlValue* message_,
    FlBasicMessageChannelResponseHandle* response_handle, gpointer user_data) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(user_data);

  if (self->vtable == nullptr ||
      self->vtable->send_message_modern_async == nullptr) {
    return;
  }

  FlValue* value0 = fl_value_get_list_value(message_, 0);
  GolubExamplePackageMessageData* message = GOLUB_EXAMPLE_PACKAGE_MESSAGE_DATA(
      fl_value_get_custom_value_object(value0));
  g_autoptr(GolubExamplePackageExampleHostApiResponseHandle) handle =
      golub_example_package_example_host_api_response_handle_new(
          channel, response_handle);
  self->vtable->send_message_modern_async(message, handle, self->user_data);
}

static void
golub_example_package_example_host_api_send_message_modern_async_throws_cb(
    FlBasicMessageChannel* channel, FlValue* message_,
    FlBasicMessageChannelResponseHandle* response_handle, gpointer user_data) {
  GolubExamplePackageExampleHostApi* self =
      GOLUB_EXAMPLE_PACKAGE_EXAMPLE_HOST_API(user_data);

  if (self->vtable == nullptr ||
      self->vtable->send_message_modern_async_throws == nullptr) {
    return;
  }

  FlValue* value0 = fl_value_get_list_value(message_, 0);
  GolubExamplePackageMessageData* message = GOLUB_EXAMPLE_PACKAGE_MESSAGE_DATA(
      fl_value_get_custom_value_object(value0));
  g_autoptr(GolubExamplePackageExampleHostApiResponseHandle) handle =
      golub_example_package_example_host_api_response_handle_new(
          channel, response_handle);
  self->vtable->send_message_modern_async_throws(message, handle,
                                                 self->user_data);
}

void golub_example_package_example_host_api_set_method_handlers(
    FlBinaryMessenger* messenger, const gchar* suffix,
    const GolubExamplePackageExampleHostApiVTable* vtable, gpointer user_data,
    GDestroyNotify user_data_free_func) {
  g_autofree gchar* dot_suffix =
      suffix != nullptr ? g_strdup_printf(".%s", suffix) : g_strdup("");
  g_autoptr(GolubExamplePackageExampleHostApi) api_data =
      golub_example_package_example_host_api_new(vtable, user_data,
                                                 user_data_free_func);

  g_autoptr(GolubExamplePackageGolubMessageCodec) codec =
      golub_example_package_golub_message_codec_new();
  g_autofree gchar* get_host_language_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi.getHostLanguage%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) get_host_language_channel =
      fl_basic_message_channel_new(messenger, get_host_language_channel_name,
                                   FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      get_host_language_channel,
      golub_example_package_example_host_api_get_host_language_cb,
      g_object_ref(api_data), g_object_unref);
  g_autofree gchar* add_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi.add%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) add_channel = fl_basic_message_channel_new(
      messenger, add_channel_name, FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      add_channel, golub_example_package_example_host_api_add_cb,
      g_object_ref(api_data), g_object_unref);
  g_autofree gchar* send_message_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi.sendMessage%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) send_message_channel =
      fl_basic_message_channel_new(messenger, send_message_channel_name,
                                   FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      send_message_channel,
      golub_example_package_example_host_api_send_message_cb,
      g_object_ref(api_data), g_object_unref);
  g_autofree gchar* send_message_modern_async_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi."
      "sendMessageModernAsync%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) send_message_modern_async_channel =
      fl_basic_message_channel_new(messenger,
                                   send_message_modern_async_channel_name,
                                   FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      send_message_modern_async_channel,
      golub_example_package_example_host_api_send_message_modern_async_cb,
      g_object_ref(api_data), g_object_unref);
  g_autofree gchar* send_message_modern_async_throws_channel_name =
      g_strdup_printf(
          "dev.bayori.golub.golub_example_package.ExampleHostApi."
          "sendMessageModernAsyncThrows%s",
          dot_suffix);
  g_autoptr(FlBasicMessageChannel) send_message_modern_async_throws_channel =
      fl_basic_message_channel_new(
          messenger, send_message_modern_async_throws_channel_name,
          FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      send_message_modern_async_throws_channel,
      golub_example_package_example_host_api_send_message_modern_async_throws_cb,
      g_object_ref(api_data), g_object_unref);
}

void golub_example_package_example_host_api_clear_method_handlers(
    FlBinaryMessenger* messenger, const gchar* suffix) {
  g_autofree gchar* dot_suffix =
      suffix != nullptr ? g_strdup_printf(".%s", suffix) : g_strdup("");

  g_autoptr(GolubExamplePackageGolubMessageCodec) codec =
      golub_example_package_golub_message_codec_new();
  g_autofree gchar* get_host_language_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi.getHostLanguage%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) get_host_language_channel =
      fl_basic_message_channel_new(messenger, get_host_language_channel_name,
                                   FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(get_host_language_channel,
                                               nullptr, nullptr, nullptr);
  g_autofree gchar* add_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi.add%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) add_channel = fl_basic_message_channel_new(
      messenger, add_channel_name, FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(add_channel, nullptr, nullptr,
                                               nullptr);
  g_autofree gchar* send_message_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi.sendMessage%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) send_message_channel =
      fl_basic_message_channel_new(messenger, send_message_channel_name,
                                   FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(send_message_channel, nullptr,
                                               nullptr, nullptr);
  g_autofree gchar* send_message_modern_async_channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.ExampleHostApi."
      "sendMessageModernAsync%s",
      dot_suffix);
  g_autoptr(FlBasicMessageChannel) send_message_modern_async_channel =
      fl_basic_message_channel_new(messenger,
                                   send_message_modern_async_channel_name,
                                   FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      send_message_modern_async_channel, nullptr, nullptr, nullptr);
  g_autofree gchar* send_message_modern_async_throws_channel_name =
      g_strdup_printf(
          "dev.bayori.golub.golub_example_package.ExampleHostApi."
          "sendMessageModernAsyncThrows%s",
          dot_suffix);
  g_autoptr(FlBasicMessageChannel) send_message_modern_async_throws_channel =
      fl_basic_message_channel_new(
          messenger, send_message_modern_async_throws_channel_name,
          FL_MESSAGE_CODEC(codec));
  fl_basic_message_channel_set_message_handler(
      send_message_modern_async_throws_channel, nullptr, nullptr, nullptr);
}

void golub_example_package_example_host_api_respond_send_message(
    GolubExamplePackageExampleHostApiResponseHandle* response_handle,
    gboolean return_value) {
  g_autoptr(GolubExamplePackageExampleHostApiSendMessageResponse) response =
      golub_example_package_example_host_api_send_message_response_new(
          return_value);
  g_autoptr(GError) error = nullptr;
  if (!fl_basic_message_channel_respond(response_handle->channel,
                                        response_handle->response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "sendMessage", error->message);
  }
}

void golub_example_package_example_host_api_respond_error_send_message(
    GolubExamplePackageExampleHostApiResponseHandle* response_handle,
    const gchar* code, const gchar* message, FlValue* details) {
  g_autoptr(GolubExamplePackageExampleHostApiSendMessageResponse) response =
      golub_example_package_example_host_api_send_message_response_new_error(
          code, message, details);
  g_autoptr(GError) error = nullptr;
  if (!fl_basic_message_channel_respond(response_handle->channel,
                                        response_handle->response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "sendMessage", error->message);
  }
}

void golub_example_package_example_host_api_respond_send_message_modern_async(
    GolubExamplePackageExampleHostApiResponseHandle* response_handle,
    gboolean return_value) {
  g_autoptr(
      GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse) response =
      golub_example_package_example_host_api_send_message_modern_async_response_new(
          return_value);
  g_autoptr(GError) error = nullptr;
  if (!fl_basic_message_channel_respond(response_handle->channel,
                                        response_handle->response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "sendMessageModernAsync", error->message);
  }
}

void golub_example_package_example_host_api_respond_error_send_message_modern_async(
    GolubExamplePackageExampleHostApiResponseHandle* response_handle,
    const gchar* code, const gchar* message, FlValue* details) {
  g_autoptr(
      GolubExamplePackageExampleHostApiSendMessageModernAsyncResponse) response =
      golub_example_package_example_host_api_send_message_modern_async_response_new_error(
          code, message, details);
  g_autoptr(GError) error = nullptr;
  if (!fl_basic_message_channel_respond(response_handle->channel,
                                        response_handle->response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "sendMessageModernAsync", error->message);
  }
}

void golub_example_package_example_host_api_respond_send_message_modern_async_throws(
    GolubExamplePackageExampleHostApiResponseHandle* response_handle,
    gboolean return_value) {
  g_autoptr(
      GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse)
      response =
          golub_example_package_example_host_api_send_message_modern_async_throws_response_new(
              return_value);
  g_autoptr(GError) error = nullptr;
  if (!fl_basic_message_channel_respond(response_handle->channel,
                                        response_handle->response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "sendMessageModernAsyncThrows", error->message);
  }
}

void golub_example_package_example_host_api_respond_error_send_message_modern_async_throws(
    GolubExamplePackageExampleHostApiResponseHandle* response_handle,
    const gchar* code, const gchar* message, FlValue* details) {
  g_autoptr(
      GolubExamplePackageExampleHostApiSendMessageModernAsyncThrowsResponse)
      response =
          golub_example_package_example_host_api_send_message_modern_async_throws_response_new_error(
              code, message, details);
  g_autoptr(GError) error = nullptr;
  if (!fl_basic_message_channel_respond(response_handle->channel,
                                        response_handle->response_handle,
                                        response->value, &error)) {
    g_warning("Failed to send response to %s.%s: %s", "ExampleHostApi",
              "sendMessageModernAsyncThrows", error->message);
  }
}

struct _GolubExamplePackageMessageFlutterApi {
  GObject parent_instance;

  FlBinaryMessenger* messenger;
  gchar* suffix;
};

G_DEFINE_TYPE(GolubExamplePackageMessageFlutterApi,
              golub_example_package_message_flutter_api, G_TYPE_OBJECT)

static void golub_example_package_message_flutter_api_dispose(GObject* object) {
  GolubExamplePackageMessageFlutterApi* self =
      GOLUB_EXAMPLE_PACKAGE_MESSAGE_FLUTTER_API(object);
  g_clear_object(&self->messenger);
  g_clear_pointer(&self->suffix, g_free);
  G_OBJECT_CLASS(golub_example_package_message_flutter_api_parent_class)
      ->dispose(object);
}

static void golub_example_package_message_flutter_api_init(
    GolubExamplePackageMessageFlutterApi* self) {}

static void golub_example_package_message_flutter_api_class_init(
    GolubExamplePackageMessageFlutterApiClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_message_flutter_api_dispose;
}

GolubExamplePackageMessageFlutterApi*
golub_example_package_message_flutter_api_new(FlBinaryMessenger* messenger,
                                              const gchar* suffix) {
  GolubExamplePackageMessageFlutterApi* self =
      GOLUB_EXAMPLE_PACKAGE_MESSAGE_FLUTTER_API(g_object_new(
          golub_example_package_message_flutter_api_get_type(), nullptr));
  self->messenger = FL_BINARY_MESSENGER(g_object_ref(messenger));
  self->suffix =
      suffix != nullptr ? g_strdup_printf(".%s", suffix) : g_strdup("");
  return self;
}

struct _GolubExamplePackageMessageFlutterApiFlutterMethodResponse {
  GObject parent_instance;

  FlValue* error;
  FlValue* return_value;
};

G_DEFINE_TYPE(GolubExamplePackageMessageFlutterApiFlutterMethodResponse,
              golub_example_package_message_flutter_api_flutter_method_response,
              G_TYPE_OBJECT)

static void
golub_example_package_message_flutter_api_flutter_method_response_dispose(
    GObject* object) {
  GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self =
      GOLUB_EXAMPLE_PACKAGE_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(object);
  g_clear_pointer(&self->error, fl_value_unref);
  g_clear_pointer(&self->return_value, fl_value_unref);
  G_OBJECT_CLASS(
      golub_example_package_message_flutter_api_flutter_method_response_parent_class)
      ->dispose(object);
}

static void
golub_example_package_message_flutter_api_flutter_method_response_init(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self) {}

static void
golub_example_package_message_flutter_api_flutter_method_response_class_init(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponseClass* klass) {
  G_OBJECT_CLASS(klass)->dispose =
      golub_example_package_message_flutter_api_flutter_method_response_dispose;
}

static GolubExamplePackageMessageFlutterApiFlutterMethodResponse*
golub_example_package_message_flutter_api_flutter_method_response_new(
    FlValue* response) {
  GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self =
      GOLUB_EXAMPLE_PACKAGE_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(g_object_new(
          golub_example_package_message_flutter_api_flutter_method_response_get_type(),
          nullptr));
  if (fl_value_get_length(response) > 1) {
    self->error = fl_value_ref(response);
  } else {
    FlValue* value = fl_value_get_list_value(response, 0);
    self->return_value = fl_value_ref(value);
  }
  return self;
}

gboolean
golub_example_package_message_flutter_api_flutter_method_response_is_error(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self) {
  g_return_val_if_fail(
      GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(
          self),
      FALSE);
  return self->error != nullptr;
}

const gchar*
golub_example_package_message_flutter_api_flutter_method_response_get_error_code(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self) {
  g_return_val_if_fail(
      GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(
          self),
      nullptr);
  g_assert(
      golub_example_package_message_flutter_api_flutter_method_response_is_error(
          self));
  return fl_value_get_string(fl_value_get_list_value(self->error, 0));
}

const gchar*
golub_example_package_message_flutter_api_flutter_method_response_get_error_message(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self) {
  g_return_val_if_fail(
      GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(
          self),
      nullptr);
  g_assert(
      golub_example_package_message_flutter_api_flutter_method_response_is_error(
          self));
  return fl_value_get_string(fl_value_get_list_value(self->error, 1));
}

FlValue*
golub_example_package_message_flutter_api_flutter_method_response_get_error_details(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self) {
  g_return_val_if_fail(
      GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(
          self),
      nullptr);
  g_assert(
      golub_example_package_message_flutter_api_flutter_method_response_is_error(
          self));
  return fl_value_get_list_value(self->error, 2);
}

const gchar*
golub_example_package_message_flutter_api_flutter_method_response_get_return_value(
    GolubExamplePackageMessageFlutterApiFlutterMethodResponse* self) {
  g_return_val_if_fail(
      GOLUB_EXAMPLE_PACKAGE_IS_MESSAGE_FLUTTER_API_FLUTTER_METHOD_RESPONSE(
          self),
      nullptr);
  g_assert(
      !golub_example_package_message_flutter_api_flutter_method_response_is_error(
          self));
  return fl_value_get_string(self->return_value);
}

static void golub_example_package_message_flutter_api_flutter_method_cb(
    GObject* object, GAsyncResult* result, gpointer user_data) {
  GTask* task = G_TASK(user_data);
  g_task_return_pointer(task, result, g_object_unref);
}

void golub_example_package_message_flutter_api_flutter_method(
    GolubExamplePackageMessageFlutterApi* self, const gchar* a_string,
    GCancellable* cancellable, GAsyncReadyCallback callback,
    gpointer user_data) {
  g_autoptr(FlValue) args = fl_value_new_list();
  fl_value_append_take(args, a_string != nullptr ? fl_value_new_string(a_string)
                                                 : fl_value_new_null());
  g_autofree gchar* channel_name = g_strdup_printf(
      "dev.bayori.golub.golub_example_package.MessageFlutterApi.flutterMethod%"
      "s",
      self->suffix);
  g_autoptr(GolubExamplePackageGolubMessageCodec) codec =
      golub_example_package_golub_message_codec_new();
  FlBasicMessageChannel* channel = fl_basic_message_channel_new(
      self->messenger, channel_name, FL_MESSAGE_CODEC(codec));
  GTask* task = g_task_new(self, cancellable, callback, user_data);
  g_task_set_task_data(task, channel, g_object_unref);
  fl_basic_message_channel_send(
      channel, args, cancellable,
      golub_example_package_message_flutter_api_flutter_method_cb, task);
}

GolubExamplePackageMessageFlutterApiFlutterMethodResponse*
golub_example_package_message_flutter_api_flutter_method_finish(
    GolubExamplePackageMessageFlutterApi* self, GAsyncResult* result,
    GError** error) {
  g_autoptr(GTask) task = G_TASK(result);
  GAsyncResult* r = G_ASYNC_RESULT(g_task_propagate_pointer(task, nullptr));
  FlBasicMessageChannel* channel =
      FL_BASIC_MESSAGE_CHANNEL(g_task_get_task_data(task));
  g_autoptr(FlValue) response =
      fl_basic_message_channel_send_finish(channel, r, error);
  if (response == nullptr) {
    return nullptr;
  }
  return golub_example_package_message_flutter_api_flutter_method_response_new(
      response);
}
